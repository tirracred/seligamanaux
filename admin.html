<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin - SeligaManaux</title>
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;900&display=swap" rel="stylesheet">
</head>
<body class="dark-mode">
    <!-- HEADER -->
    <header class="site-header">
        <div class="header-container">
            <div class="logo">
                <h1><a href="index.html">SELIGAMANAUX</a></h1>
            </div>
            
            <nav class="nav-principal">
                <ul>
                    <li><a href="index.html">In√≠cio</a></li>
                    <li><a href="#">Admin</a></li>
                </ul>
            </nav>

            <button class="dark-mode-toggle">üåô Dark</button>

            <button class="nav-toggle">
                <div class="hamburger">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
            </button>
        </div>
    </header>

    <!-- CONTE√öDO ADMIN -->
    <main class="container">
        <!-- SE√á√ÉO DE PUBLICA√á√ÉO -->
        <div class="admin-form" id="adminForm">
            <h2 class="page-title-admin">üìù Publicar Not√≠cia</h2>

            <form id="noticiaForm">
                <!-- SE√á√ÉO B√ÅSICA -->
                <div class="admin-form-section">
                    <h3>Informa√ß√µes B√°sicas</h3>

                    <div class="form-group">
                        <label for="categoria">üìÇ Categoria *</label>
                        <select id="categoria" required>
                            <option value="">Selecione uma categoria</option>
                            <option value="geral">Geral</option>
                            <option value="politica">Pol√≠tica</option>
                            <option value="economia">Economia</option>
                            <option value="cultura">Cultura</option>
                            <option value="esportes">Esportes</option>
                            <option value="saude">Sa√∫de</option>
                            <option value="tecnologia">Tecnologia</option>
                            <option value="regiao">Regi√£o</option>
                        </select>
                    </div>

                    <div class="form-group">
                        <label for="titulo">üì∞ T√≠tulo *</label>
                        <input type="text" id="titulo" placeholder="Escreva o t√≠tulo da not√≠cia" required>
                    </div>

                    <div class="form-group">
                        <label for="resumo">‚úèÔ∏è Resumo / Lead *</label>
                        <textarea id="resumo" placeholder="Resumo conciso (2-3 linhas)" required></textarea>
                    </div>
                </div>

                <!-- SE√á√ÉO DE CONTE√öDO -->
                <div class="admin-form-section">
                    <h3>Conte√∫do Completo</h3>

                    <div class="form-group">
                        <label for="conteudo">üìÑ Conte√∫do *</label>
                        <textarea id="conteudo" placeholder="Escreva o conte√∫do completo da not√≠cia..." style="min-height: 200px;" required></textarea>
                    </div>

                    <div class="form-group">
                        <label for="autor">‚úçÔ∏è Autor</label>
                        <input type="text" id="autor" placeholder="Nome do autor (opcional)">
                    </div>
                </div>

                <!-- SE√á√ÉO DE M√çDIA -->
                <div class="admin-form-section">
                    <h3>M√≠dia e Imagens</h3>

                    <div class="form-group">
                        <label for="imagem">üñºÔ∏è Imagem de Capa</label>
                        <div class="upload-area" id="uploadArea">
                            <input type="file" id="imagem" accept="image/*" style="display: none;">
                            <p style="cursor: pointer; color: var(--cor-azul); font-weight: 600;">
                                üì§ Clique ou arraste uma imagem aqui
                            </p>
                            <p style="font-size: 12px; color: var(--cor-texto-cinza);">
                                PNG, JPG, WebP ‚Ä¢ Tamanho m√°x: 5MB
                            </p>
                        </div>
                        <div class="image-preview" id="imagePreview">
                            <img id="previewImg" src="" alt="Preview">
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="urlExterna">üîó Ou URL da Imagem</label>
                        <input type="text" id="urlExterna" placeholder="https://exemplo.com/imagem.jpg">
                    </div>
                </div>

                <!-- BOT√ïES -->
                <div class="form-buttons">
                    <button type="submit" class="btn-submit">‚úÖ Publicar Not√≠cia</button>
                    <button type="reset" class="btn-cancel">üîÑ Limpar Formul√°rio</button>
                </div>
            </form>
        </div>

        <!-- SE√á√ÉO DE GERENCIAMENTO DE POSTS -->
        <div class="admin-form posts-list" id="postsList">
            <h3>üìä Not√≠cias Publicadas</h3>

            <div id="postsContainer" style="margin-top: 20px;">
                <p style="color: var(--cor-texto-cinza); text-align: center; padding: 30px;">
                    Carregando not√≠cias publicadas...
                </p>
            </div>
        </div>
    </main>

    <!-- FOOTER -->
    <footer class="site-footer">
        <div class="footer-content">
            <p>&copy; 2025 SeligaManaux - Painel Administrativo</p>
        </div>
    </footer>

    <script src="darkmode.js"></script>
    <script>
        // ===== CONFIGURA√á√ÉO DO ADMIN =====
        
        // Upload de arquivo com drag and drop
        const uploadArea = document.getElementById('uploadArea');
        const imagemInput = document.getElementById('imagem');
        const imagePreview = document.getElementById('imagePreview');
        const previewImg = document.getElementById('previewImg');

        uploadArea.addEventListener('click', () => imagemInput.click());

        uploadArea.addEventListener('dragover', (e) => {
            e.preventDefault();
            uploadArea.classList.add('dragover');
        });

        uploadArea.addEventListener('dragleave', () => {
            uploadArea.classList.remove('dragover');
        });

        uploadArea.addEventListener('drop', (e) => {
            e.preventDefault();
            uploadArea.classList.remove('dragover');
            
            const files = e.dataTransfer.files;
            if (files.length > 0) {
                imagemInput.files = files;
                handleImageUpload();
            }
        });

        imagemInput.addEventListener('change', handleImageUpload);

        function handleImageUpload() {
            const file = imagemInput.files[0];
            if (file) {
                const reader = new FileReader();
                reader.onload = (e) => {
                    previewImg.src = e.target.result;
                    imagePreview.style.display = 'block';
                    document.getElementById('urlExterna').value = '';
                };
                reader.readAsDataURL(file);
            }
        }

        // Envio do Formul√°rio
        document.getElementById('noticiaForm').addEventListener('submit', async (e) => {
            e.preventDefault();

            // Validar campos obrigat√≥rios
            const titulo = document.getElementById('titulo').value.trim();
            const resumo = document.getElementById('resumo').value.trim();
            const conteudo = document.getElementById('conteudo').value.trim();
            const categoria = document.getElementById('categoria').value;

            if (!titulo || !resumo || !conteudo || !categoria) {
                return;
            }

            // Preparar dados da not√≠cia
            const noticia = {
                titulo: titulo,
                resumo: resumo,
                conteudo: conteudo,
                categoria: categoria,
                autor: document.getElementById('autor').value.trim() || 'Reda√ß√£o',
                imagem: document.getElementById('urlExterna').value.trim() || previewImg.src || null,
                data: new Date().toISOString()
            };

            try {
                console.log('Not√≠cia publicada:', noticia);
                
                document.getElementById('noticiaForm').reset();
                imagePreview.style.display = 'none';

                loadPosts();

            } catch (error) {
                console.error('Erro:', error);
            }
        });

        // Carregar lista de posts publicados
        function loadPosts() {
            const postsContainer = document.getElementById('postsContainer');

            // Dados de exemplo
            const posts = [
                {
                    id: 1,
                    titulo: 'Prefeitura anuncia novo programa de desenvolvimento',
                    categoria: 'Pol√≠tica',
                    data: new Date().toLocaleDateString('pt-BR'),
                    views: 245
                },
                {
                    id: 2,
                    titulo: 'Economia de Manaus cresce 8% no trimestre',
                    categoria: 'Economia',
                    data: new Date(Date.now() - 86400000).toLocaleDateString('pt-BR'),
                    views: 189
                },
                {
                    id: 3,
                    titulo: 'Festival Cultural 2025 acontece no pr√≥ximo m√™s',
                    categoria: 'Cultura',
                    data: new Date(Date.now() - 172800000).toLocaleDateString('pt-BR'),
                    views: 423
                }
            ];

            if (posts.length === 0) {
                postsContainer.innerHTML = '<p style="color: var(--cor-texto-cinza); text-align: center; padding: 30px;">Nenhuma not√≠cia publicada ainda.</p>';
                return;
            }

            postsContainer.innerHTML = posts.map(post => `
                <div class="post-item">
                    <div class="post-info">
                        <h4>${post.titulo}</h4>
                        <p>üìÇ ${post.categoria} | üìÖ ${post.data} | üëÅÔ∏è ${post.views} visualiza√ß√µes</p>
                    </div>
                    <div class="post-actions">
                        <button class="btn-small btn-edit" onclick="editPost(${post.id})">‚úèÔ∏è Editar</button>
                        <button class="btn-small btn-delete-small" onclick="deletePost(${post.id})">üóëÔ∏è Deletar</button>
                    </div>
                </div>
            `).join('');
        }

        function editPost(id) {
            console.log('Editar post ID:', id);
        }

        function deletePost(id) {
            if (confirm('Tem certeza que deseja deletar esta not√≠cia?')) {
                console.log('Deletar post ID:', id);
                loadPosts();
            }
        }

        // Carregar posts ao abrir a p√°gina
        document.addEventListener('DOMContentLoaded', loadPosts);
    </script>

</body>








</html>

